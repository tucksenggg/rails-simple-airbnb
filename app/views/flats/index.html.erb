<nav class="navbar">
  <div class="container-fluid bg-light">
    <div class="container d-flex justify-content-between">
      <%= link_to "Simple Airbnb", flats_path, class:"navbar-brand text-dark p-2" %>
    <div class="d-flex">
        <form class="d-flex">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="query">
          <button class="btn btn-outline-success me-2" type="submit">Search</button>
        </form>
        <% if user_signed_in? %>
        <%= link_to "Add Flat", new_flat_path, class:"btn btn-outline-success me-2" %>
          <%= link_to "Logout", destroy_user_session_path, data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class:"btn btn-outline-success" %>
        <% else %>
          <%= link_to "Login", new_user_session_path, class:"btn btn-outline-success" %>
        <% end %>
    </div>
    </div>
  </div>
</nav>
<div class="container">
  <h1 class="py-3">All our Flats (<%= @flats.count %>)</h1>
<div class="row gx-5 gy-3">
  <% @flats.each do |flat| %>
    <div class="col-4">
  <div class="border bg-light shadow-sm">
    <div>
      <img alt="Le Wagon" src="<%= flat.url %>">
    </div>
    <div class="p-3 mt-2">
      <h5><%= flat.name %></h5>
      <p><%= flat.address %></p>
      <div class='d-flex'>
        <p class="pe-3"><i class="fa-solid fa-person pe-2 fa-lg"></i><%= flat.number_of_guests %></p>
        <p><i class="fa-solid fa-dollar-sign pe-2 fa-lg"></i><%= flat.price_per_night %></p>
      </div>
    </div>
  </div>
  <div class="border p-3 shadow-sm mb-3">
    <%= link_to "More Info", flat_path(flat), class:"ps-2" %>
    <%= link_to "Edit", edit_flat_path(flat), class:"ps-2 text-warning" %>
    <%= link_to "Delete", flat_path(flat), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class:"ps-2 text-danger" %>
  </div>
</div>
  <% end %>
  </div>

</div>
